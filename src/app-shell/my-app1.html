<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!--- ->
<!---->

<link rel="import" href="/bower_components/polymer/polymer-element.html">

<!-- state -->
<link rel="import" href="/src/app-state/state-route.html">
<link rel="import" href="/src/app-state/state-app-views.html">
<link rel="import" href="/src/app-state/state-user-remote.html">

<link rel="import" href="/bower_components/iron-pages/iron-pages.html">

<link rel="import" href="/src/app-views/view-dashboard/view-dashboard.html">
<link rel="import" href="/src/app-views/view-outbox/view-outbox.html">
<link rel="import" href="/src/app-views/view-inbox/view-inbox.html">
<link rel="import" href="/src/app-views/view-archive/view-archive.html">
<link rel="import" href="/src/app-views/view-contacts/view-contacts.html">
<link rel="import" href="/src/app-views/view-settings/view-settings.html">
<!--- ->
<link rel="import" href="/src/app-shell/view-feedback.html">
<link rel="import" href="/src/app-shell/view-help.html">
<!--- ->
<link rel="import" href="/src/app-views/view-account/view-account.html">
<!---->

<dom-module id="my-app">

  <template>

		<style></style>		
		
		<!-- state -->
		<state-route route="{{route}}"></state-route>		
		<state-app-views app-views="{{appViews}}"></state-app-views>		
		<state-user-remote user-remote="{{userRemote}}"></state-user-remote>		
		
		<iron-pages selected="{{route}}" xattr-for-selected="name">
		  <template is="dom-repeat" items="{{appViews.views}}">
        <app-view name="[[item.name]]"
                  type="[[item.type]]"
                  item-keys="[[item.items]]"
                  >
        </app-view>
      </template>
    </iron-pages>
		

  </template>

  <script>

    class MyApp extends Polymer.Element {

      static get is() { return 'my-app'; }

			static get properties() { return {
        
        appViews: Object,
			  
        // route: {
				// 	type: Number,
				// 	notify: true,
				// 	//observer: '_routeChanged',
				// },
			  
        // items: {
        //   type: Array,
        //   computed: _computeItems(appViews),
        // }
        
      }}
			
      constructor() {
        super();
      }
			
			ready() {
        super.ready();
				//console.log('Component Ready');
			}
      
			// _routeChanged(route) {
			// 	console.log('route', route);
			// }

      // _computeItems(o) {
      //   const views = o.views;
      //   const out = views.reduce...
      //   return out;
      // }
			
    }

    customElements.define(MyApp.is, MyApp);

  </script>

</dom-module>
